<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Aromahut - Cart</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Raleway:wght@600;800&display=swap" rel="stylesheet"> 


    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <link rel="icon" href="/img/aromahutTitleIcon.png" type="image/png">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

      <script>
  // Disable right-click
  document.addEventListener("contextmenu", (e) => e.preventDefault());

  // Disable F12, Ctrl+Shift+I, Ctrl+Shift+J
  document.onkeydown = function (e) {
    if (
      e.keyCode === 123 || // F12
      (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) || // Ctrl+Shift+I or J
      (e.ctrlKey && e.keyCode === 85) // Ctrl+U (View Source)
    ) {
      return false;
    }
  };
</script>

<script>
  const devtools = {
    isOpen: false,
    orientation: null,
  };
  const threshold = 160;
  setInterval(() => {
    const widthThreshold = window.outerWidth - window.innerWidth > threshold;
    const heightThreshold = window.outerHeight - window.innerHeight > threshold;
    if (!(heightThreshold && widthThreshold) && ((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || widthThreshold || heightThreshold)) {
      // DevTools Opened
      alert("Inspect Element is disabled on Checkout Page.");
      window.location.href = "/"; // Redirect or disable action
    }
  }, 1000);
</script>

</head>
<style>
    /* Add this to your CSS */
body, html {
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* Prevents horizontal scroll */
}

.container-fluid, .container {
    padding-right: 0;
    padding-left: 0;
}

/* Remove extra space after last section */
section:last-child, div:last-child {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}
/* Navbar Styles */
#mainNavbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1030;
    background: white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    height: 70px;
    transition: all 0.3s ease;
}

/* Ensure body content doesn't hide behind fixed navbar */
body {
    padding-top: 70px;
}

.navbar-brand h1 {
    font-weight: 800;
    font-size: 1.8rem;
    background: linear-gradient(to right, #ff4e00, #f9d423);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin: 0;
}

.navbar-nav .nav-link {
    position: relative;
    font-weight: 600;
    color: #333 !important;
    padding: 0.5rem 1rem;
    margin: 0 0.2rem;
}

.navbar-nav .nav-link::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(to right, #ff4e00, #f9d423);
    transition: width 0.3s ease;
}

.navbar-nav .nav-link:hover::before {
    width: 100%;
}

.navbar-nav .nav-link.active {
    color: #ff4e00 !important;
}

/* Shopping Cart Icon Animation */
.navbar .fa-shopping-bag {
    transition: all 0.3s ease;
}

.navbar .fa-shopping-bag:hover {
    transform: scale(1.1);
    color: #ff4e00 !important;
}

/* Search Container */
.search-container {
    position: absolute;
    top: 70px;
    left: 0;
    right: 0;
    background: white;
    padding: 15px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    transform: translateY(-100%);
    transition: transform 0.3s ease;
    z-index: 1029;
}

.search-container.show {
    transform: translateY(0);
}

.search-input {
    border: 1px solid #eee;
    border-radius: 25px;
    padding: 8px 20px;
    width: 100%;
    outline: none;
    transition: all 0.3s ease;
}

.search-input:focus {
    border-color: #ff4e00;
    box-shadow: 0 0 0 2px rgba(255, 78, 0, 0.1);
}

/* Cart Count */
.cart-count {
    top: -5px !important;
    right: -11px !important;
    height: 20px;
    min-width: 20px;
    font-size: 0.7rem;
    background: linear-gradient(to right, #ff4e00, #f9d423) !important;
}

/* Added to Cart Toast */
.added-to-cart-toast {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1100;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.added-to-cart-toast.show {
    opacity: 1;
}
/* Global Styles */
    :root {
        --primary-orange: #ff6b00;
        --dark-orange: #e05a00;
        --light-orange: #ff8c00;
        --gold-accent: #ffd700;
        --spice-gradient: linear-gradient(135deg, #ff6b00, #ff8c00, #ffaa00);
        --light-gray: #f8f9fa;
        --medium-gray: #e9ecef;
        --dark-gray: #6c757d;
    }
    
    body, html {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        font-family: 'Open Sans', sans-serif;
        background-color: #f9f9f9;
    }
    
    /* Navbar Styles */
    #mainNavbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1030;
        background: white;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        height: 70px;
        transition: all 0.3s ease;
    }
    
    body {
        padding-top: 70px;
    }
    
    .navbar-brand h1 {
        font-weight: 800;
        font-size: 1.8rem;
        background: linear-gradient(to right, #ff4e00, #f9d423);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin: 0;
    }
    
    /* Cart Page Specific Styles */
    .container-fluid.py-5 {
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        margin: 20px auto;
        max-width: 95%;
        padding: 20px 0 !important;
    }
    
    .table-responsive {
        overflow-x: auto;
    }
    
    table.table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        margin-bottom: 30px;
    }
    
    table.table thead tr {
        background: var(--spice-gradient);
        color: white;
    }
    
    table.table th {
        padding: 15px;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.85rem;
        letter-spacing: 0.5px;
    }
    
    table.table td {
        padding: 15px;
        vertical-align: middle;
        border-bottom: 1px solid var(--medium-gray);
    }
    
    table.table tr:last-child td {
        border-bottom: none;
    }
    
    table.table tr:hover {
        background-color: rgba(255, 107, 0, 0.03);
    }
    
    /* Quantity Controls */
    .quantity-control {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .quantity-btn {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: var(--light-gray);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: bold;
        color: var(--dark-gray);
    }
    
    .quantity-btn:hover {
        background: var(--primary-orange);
        color: white;
        transform: scale(1.1);
    }
    
    .quantity-value {
        margin: 0 15px;
        font-weight: 600;
        min-width: 20px;
        text-align: center;
    }
    
    /* Remove Button */
    .remove-btn {
        color: var(--dark-gray);
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.1rem;
        text-align: center;
        display: block;
    }
    
    .remove-btn:hover {
        color: var(--primary-orange);
        transform: scale(1.2);
    }
    
    /* Cart Summary */
    .bg-light.rounded {
        background-color: #fff !important;
        border: 1px solid var(--medium-gray);
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .display-6.mb-4 {
        font-size: 1.8rem;
        color: var(--primary-orange);
        font-weight: 700;
    }
    
    .border-top, .border-bottom {
        border-color: var(--medium-gray) !important;
    }
    
    .subtotal, .shipping, .Total {
        font-weight: 600;
        color: var(--dark-gray);
    }
    
    .Total {
        color: var(--primary-orange) !important;
        font-size: 1.2rem;
    }
    
    /* Checkout Button */
    .btn-border-secondary {
        background: white;
        border: 2px solid var(--primary-orange) !important;
        color: var(--primary-orange) !important;
        font-weight: 600;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
        padding: 0.8rem 2rem !important;
        border-radius: 50px !important;
        text-transform: uppercase;
        font-size: 0.9rem;
        width: 100%;
    }
    
    .btn-border-secondary:hover {
        background: var(--spice-gradient) !important;
        color: white !important;
        border-color: transparent !important;
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(255, 107, 0, 0.2);
    }
    
    /* Empty Cart State */
    .empty-cart {
        text-align: center;
        padding: 50px 0;
    }
    
    .empty-cart i {
        font-size: 5rem;
        color: var(--medium-gray);
        margin-bottom: 20px;
    }
    
    .empty-cart h3 {
        color: var(--dark-gray);
        margin-bottom: 20px;
    }
    
    /* Mobile responsive table styles */
    @media (max-width: 768px) {
        table.table thead {
            display: none;
        }
        
        table.table tr {
            display: block;
            margin-bottom: 20px;
            border: 1px solid var(--medium-gray);
            border-radius: 10px;
            padding: 10px;
            position: relative;
        }
        
        table.table td {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--medium-gray);
            padding: 10px 15px;
            text-align: right;
        }
        
        table.table td:before {
            content: attr(data-label);
            font-weight: bold;
            margin-right: 15px;
            color: var(--dark-gray);
            flex: 1;
            text-align: left;
        }
        
        table.table td:last-child {
            border-bottom: none;
            justify-content: center;
        }
        
        .quantity-control {
            justify-content: flex-end;
            flex: 1;
        }
        
        /* Remove button styling */
        table.table td[data-label="Remove"] {
            justify-content: center;
        }
        
        /* Cart summary adjustments */
        .col-sm-8.col-md-7.col-lg-6.col-xl-4 {
            width: 100%;
            margin-top: 20px;
        }
    }

    /* Quantity Controls */
.quantity-control {
    display: flex;
    align-items: center;
    justify-content: center;
}

.quantity-control button {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #ff6b00;
    border: 1px solid #ddd;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: bold;
    color: #ffffff;
    font-size: 14px;
    margin: 0 5px;
    outline: none;
}

.quantity-control button:hover {
    background: #ff6b00;
    color: white;
    border-color: #ff6b00;
    transform: scale(1.1);
}

.quantity-control button:active {
    transform: scale(0.95);
}

.quantity-control span {
    margin: 0 10px;
    font-weight: 600;
    min-width: 20px;
    text-align: center;
    display: inline-block;
}
    
    /* Animations */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fadeIn {
        animation: fadeIn 0.5s ease forwards;
    }
    
    .pulse {
        animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.03); }
        100% { transform: scale(1); }
    }
    
    /* Toast Notification */
    .added-to-cart-toast {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1100;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .added-to-cart-toast.show {
        opacity: 1;
    }
    
    .toast-body {
        padding: 12px 25px;
        border-radius: 25px;
        background: var(--spice-gradient);
        color: white;
        box-shadow: 0 3px 15px rgba(255, 78, 0, 0.3);
        font-weight: 500;
    }

  @media (max-width: 576px) {
    .masala-img {
      height: 400px;
    }
  }

  @media (max-width: 992px) {
    #mainNavbar {
        height: 90px;
        background-color: #ffffff !important;
    }

    .navbar-collapse {
        background-color: #ffffff !important;
    }

    body {
        padding-top: 90px;
    }
}

.continue-shopping-btn {
    display: inline-block;
    padding: 12px 30px;
    background: linear-gradient(135deg, #ff6b00, #ff8c00, #ffaa00);
    color: white !important;
    font-weight: 600;
    text-decoration: none;
    border-radius: 50px;
    border: none;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 107, 0, 0.3);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-size: 0.9rem;
}

.continue-shopping-btn::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent
    );
    transition: 0.5s;
}

.continue-shopping-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(255, 107, 0, 0.4);
}

.continue-shopping-btn:hover::before {
    left: 100%;
}

/* If you need to override any existing styles */
a.continue-shopping-btn {
    text-decoration: none !important;
    color: white !important;
}

</style>
    <body>

        <!-- Spinner Start -->
        <div id="spinner" class="show w-100 vh-100 bg-white position-fixed translate-middle top-50 start-50  d-flex align-items-center justify-content-center">
            <div class="spinner-grow text-primary" role="status"></div>
        </div>
        <!-- Spinner End -->

    
<div class="container-fluid" id="mainNavbar">
  <div class="container px-0">
    <nav class="navbar navbar-expand-lg navbar-light py-2" style="height: 70px;">
      <a href="index.html" class="navbar-brand d-flex align-items-center">
        <img src="img/aromahutlogo.png" alt="Logo" style="height: 90px;">
      </a>

      <!-- Mobile-first icons BEFORE hamburger -->
      <div class="d-lg-none d-flex align-items-center ms-auto me-2">
       
        <a href="cart.html" class="position-relative me-1 cart-icon">
          <i class="fa fa-shopping-bag fa-lg text-primary"></i>
          <span class="cart-count position-absolute rounded-circle d-flex align-items-center justify-content-center text-white px-1">0</span>
        </a>
      </div>

      <!-- Hamburger -->
      <button class="navbar-toggler py-1 px-2 mx-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="fa fa-bars" style="color: #ff4e00;"></span>
      </button>

      <!-- Collapsible Content -->
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav mx-auto">
          <a href="index.html" class="nav-item nav-link">Home</a>
          <a href="about.html" class="nav-item nav-link ">About us</a>
          <a href="checkout.html" class="nav-item nav-link">Billing</a>
          <a href="https://aromahut-e817f.web.app" class="nav-item nav-link">Contact</a>
        </div>

        <!-- Desktop Icons (visible only on lg and up) -->
        <div class="d-none d-lg-flex align-items-center">
         
          <a href="cart.html" class="position-relative me-3 cart-icon">
            <i class="fa fa-shopping-bag fa-lg text-primary"></i>
            <span class="cart-count position-absolute rounded-circle d-flex align-items-center justify-content-center text-white px-1">0</span>
          </a>
         
        </div>
      </div>
    </nav>
  </div>
</div>

    
        <!-- Cart Page Start -->
        <div class="container-fluid py-5">
            <div class="container py-3">
                <div class="table-responsive">
                    <table class="table"> 
                        <thead>
                            <tr>
                                <th>S.no</th>
                                <th data-label="Product">Product</th>
                                <th data-label="Weight">Weight</th>
                                <th data-label="Qty">Quantity</th>
                                <th data-label="Price">Price</th>
                                <th data-label="Remove">Remove</th>
                            </tr>
                        </thead>
                        <tbody id="cart-items">
                            <!-- Cart items will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row g-2 justify-content-end">
            <div class="col-8"></div>
            <div class="col-sm-8 col-md-7 col-lg-6 col-xl-4">
                <div class="bg-light rounded">
                    <div class="p-4">
                        <h1 class="display-6 mb-4">Cart Total</h1>
                        <div class="d-flex justify-content-between mb-4">
                            <h5 class="mb-0 me-4 text-dark">Overall Product Cost:</h5>
                            <p class="mb-0 subtotal text-dark"></p>
                        </div>
                        <!-- <div class="d-flex justify-content-between">
                            <h5 class="mb-0 me-4 text-dark">Shipping</h5>
                            <div class="">
                                <p class="mb-0 shipping text-dark">₹1.00</p>
                            </div>
                        </div> -->
                    </div>
                    <!-- <div class="py-4 mb-4 border-top border-bottom d-flex justify-content-between">
                        <h5 class="mb-0 ps-4 me-4 text-dark">Total</h5>
                        <p class="mb-0 pe-4 Total">₹00</p>
                    </div> -->
                    <button class="btn border-secondary rounded-pill px-4 py-3 text-light text-uppercase mb-5 ms-4" type="button" onclick="location.href='checkout.html'" style="background-color: #1F75FE;">Proceed Checkout</button>
                </div>
            </div>
        </div>
        <!-- Cart Page End -->


        <!-- Footer Start -->
          <footer class=" text-white pt-5 pb-4 "  style="background-color: rgb(33, 37, 41);">
    <div class="container">
        <div class="row g-4 ms-3">
            <!-- About Column -->
            <div class="col-lg-4 col-md-6">
                <h5 class="text-warning mb-4">Aromahut</h5>
                <p class=" " style="color: #eee;">Bringing authentic homemade flavors to your kitchen since 2010. Our spices and masalas are crafted with traditional recipes and premium ingredients.</p>
                 <div class="social-icons mt-4">
                        <a href="https://www.facebook.com/The.Aroma.Hut.Masala/" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/the.aroma.hut/" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                        <a href="https://api.whatsapp.com/send/?phone=%2B919677439397&text&type=phone_number&app_absent=0" class="text-white me-3"><i class="fab fa-whatsapp"></i></a>
                        <!-- <a href="#" class="text-white"><i class="fab fa-youtube"></i></a> -->
                    </div>
                </div>

                <!-- Quick Links Column -->
                <div class="col-lg-2 col-md-6">
                    <h5 class="text-warning mb-4">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="index.html" class="text-white text-decoration-none">Home</a></li>
                        <li class="mb-2"><a href="about.html" class="text-white text-decoration-none">About Us</a></li>
                        <li class="mb-2"><a href="cart.html" class="text-white text-decoration-none">Cart</a></li>
                        <li><a href="https://aromahut-e817f.web.app" class="text-white text-decoration-none">Contact</a></li>
                    </ul>
                </div>

                <!-- Products Column -->
                <div class="col-lg-2 col-md-6">
                    <h5 class="text-warning mb-4">Products</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#tab-1" class="text-white text-decoration-none">Masalas</a></li>
                        <li class="mb-2"><a href="#tab-2" class="text-white text-decoration-none">Pre-Mix</a></li>
                        <li class="mb-2"><a href="#tab-3" class="text-white text-decoration-none">Health Drinks</a></li>
                        <li><a href="#tab-4" class="text-white text-decoration-none">Beauty Products</a></li>
                    </ul>
                </div>

            <!-- Contact Column -->
         <div class="col-lg-4 col-md-6">
    <h5 class="text-warning mb-4">Contact Us</h5>
    <ul class="list-unstyled ">
        <li class="mb-3">
            <i class="fas fa-map-marker-alt me-2 text-warning"></i>
            70/36, Thiruvenkadam Street, Gugai, Salem – 636006, Tamil Nadu
        </li>
        <li class="mb-3">
            <i class="fas fa-phone-alt me-2 text-warning"></i>
            +91 94433 83538
        </li>
        <li class="mb-3">
            <i class="fas fa-envelope me-2 text-warning"></i>
            aromahut24@gmail.com
        </li>
        <li>
            <i class="fas fa-clock me-2 text-warning"></i>
            Mon-Sat: 9AM - 6PM
        </li>
    </ul>
</div>

        </div>
        <hr class="my-4 bg-secondary">
        <div class="row">
            <div class="col-md-6 text-center text-md-start">
                <p class=" mb-0" style="color: #ffffff;">&copy; 2024 Aromahut. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-center text-md-end">
<span style="color: #ffffff;">Designed and Developed By </span> <a class="border-bottom "
                            href="https://mohanxz.github.io/">Mohan Raj S</a> <span> & </span> <a class="border-bottom "
                            href="https://prasannavenkateshportfolio14.netlify.app/">Prasanna Venkatesh K</a><h1></h1>            </div>
        </div>
    </div>
</footer>
        <!-- Footer End -->

        <!-- Back to Top -->
        <a href="#" class="btn btn-primary border-3 border-primary rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>   

        
    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script>
$(document).ready(function () {
    function updateCartItems() {
        // Retrieve the cart items from localStorage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const cartContainer = $('#cart-items');

        if (cartContainer.length) {
            cartContainer.empty(); // Clear any existing items

            if (cartItems.length === 0) {
                cartContainer.append(`
                    <tr>
                        <td colspan="6" class="text-center py-5">
                            <i class="fas fa-shopping-cart fa-3x text-muted mb-3"></i>
                            <h4 class="text-muted">Your cart is empty</h4>
                            <a href="index.html" class="btn btn-primary mt-3 continue-shopping-btn">Continue Shopping</a>
                        </td>
                    </tr>
                `);
                return;
            }

            // Populate cart items
            cartItems.forEach((item, index) => {
                item.pricePerUnit = item.pricePerUnit || parseFloat(item.price.replace('₹', '').trim());

                const itemRow = $(`
                    <tr class="text-dark">
                        <td data-label="S.no">${index + 1}</td>
                        <td data-label="Product">${item.name}</td>
                        <td data-label="Weight">${item.weight}</td>
                        <td data-label="Quantity">
                            <div class="quantity-control">
                                <button class="quantity-btn" onclick="changeQuantity(${index}, -1)">-</button>
                                <span id="quantity-${index}">${item.quantity || '1'}</span>
                                <button class="quantity-btn" onclick="changeQuantity(${index}, 1)">+</button>
                            </div>
                        </td>
                        <td data-label="Price" id="price-${index}">₹${(item.pricePerUnit * (item.quantity || 1)).toFixed(2)}</td>
                        <td data-label="Remove"><i class="fas fa-trash-alt remove-btn" data-index="${index}"></i></td>
                    </tr>
                `);
                cartContainer.append(itemRow);
            });

            // Attach delete event listeners
            $('#cart-items').on('click', '.fa-trash-alt', function () {
                const index = $(this).data('index');
                removeCartItem(index);
            });
        } else {
            console.error('Cart container element not found in the DOM');
        }
    }

    function removeCartItem(index) {
        // Retrieve the cart items from localStorage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Remove the item from the cartItems array
        cartItems.splice(index, 1);

        // Update localStorage
        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        // Update the cart display
        updateCartItems();

        // Update the subtotal and total
        updateSubtotal();
        updateTotal();
        
        // Update cart count
        updateCartCount();
    }

    function updateSubtotal() {
        // Retrieve the cart items from localStorage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Calculate the total price
        let total = 0;
        cartItems.forEach(item => {
            const price = item.pricePerUnit || parseFloat(item.price.replace('₹', '')); 
            const quantity = item.quantity || 1;
            total += price * quantity;
        });

        // Update the subtotal element
        $('.subtotal').text(`₹${total.toFixed(2)}`);
    }

    function updateTotal() {
        // Retrieve cart items from local storage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Calculate the total price of cart items
        let total = 0;
        cartItems.forEach(item => {
            const price = item.pricePerUnit || parseFloat(item.price.replace('₹', '')); 
            const quantity = item.quantity || 1; 
            total += price * quantity;
        });

        // Retrieve and parse the shipping cost
        const shippingText = $('.shipping').text(); 
        const shipping = parseFloat(shippingText.replace('₹', '')); 

        // Add shipping cost to the total
        total += shipping;

        // Update the total element
        $('.Total').text(`₹${total.toFixed(2)}`);
    }

    function updateCartCount() {
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const totalItems = cartItems.reduce((total, item) => total + (item.quantity || 1), 0);
        const cartCountElements = document.querySelectorAll('.cart-count');
        
        cartCountElements.forEach(element => {
            element.textContent = totalItems;
            // Add animation
            element.classList.add('animate__animated', 'animate__bounceIn');
            setTimeout(() => {
                element.classList.remove('animate__animated', 'animate__bounceIn');
            }, 1000);
        });
    }

    // Function to handle quantity changes
    window.changeQuantity = function(index, change) {
        // Retrieve the cart items from localStorage
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

        // Update the quantity
        const newQuantity = (cartItems[index].quantity || 1) + change;

        // If quantity reaches 0, remove the item
        if (newQuantity < 1) {
            removeCartItem(index);
            return;
        }

        // Update the quantity
        cartItems[index].quantity = newQuantity;

        // Update localStorage
        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        // Update the displayed quantity and price
        $(`#quantity-${index}`).text(newQuantity);

        const pricePerUnit = cartItems[index].pricePerUnit || parseFloat(cartItems[index].price.replace('₹', '').trim());
        const newPrice = pricePerUnit * newQuantity;

        if (!isNaN(newPrice)) {
            $(`#price-${index}`).text(`₹${newPrice.toFixed(2)}`); 
        } else {
            console.error('Price calculation error: price is NaN');
        }

        // Update the subtotal and total
        updateSubtotal();
        updateTotal();
        
        // Update cart count
        updateCartCount();
    };

    // Initialize cart items and totals on page load
    updateCartItems();
    updateSubtotal();
    updateTotal();
    updateCartCount();
});

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set Masala tab as active by default
            const defaultTab = document.querySelector('[href="#tab-1"]');
            if (defaultTab) {
                defaultTab.classList.add('active');
                const tabPane = document.querySelector('#tab-1');
                if (tabPane) {
                    tabPane.classList.add('show', 'active');
                }
            }
    
            // Initialize cart count
            updateCartCount();
            
            // Add event listeners to all radio buttons
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', function() {
                    updatePrice(this);
                });
            });
    
            // Set initial prices
            document.querySelectorAll('.masala-item').forEach(item => {
                const checkedRadio = item.querySelector('input[type="radio"]:checked');
                if (checkedRadio) {
                    updatePrice(checkedRadio);
                }
            });
    
            // Search functionality
            setupSearch();
    
            // Initialize beauty products tab animation
            setupBeautyTabAnimations();
        });
    
        // Function to update price display
        function updatePrice(radio) {
            const productContainer = radio.closest('.masala-item');
            const priceElement = productContainer.querySelector('.masala-price-view');
            const weightId = radio.id;
            const price = prices[weightId];
            const weightLabel = radio.nextElementSibling.textContent;
    
            if (price !== undefined) {
                priceElement.textContent = `₹${price.toFixed(2)} / ${weightLabel}`;
            }
        }
    
        // Add to cart function
        function cart(event) {
            event.preventDefault();
            const productContainer = event.target.closest('.masala-item');
            const name = productContainer.querySelector('h4').textContent;
            const selectedRadio = productContainer.querySelector('input[type="radio"]:checked');
            
            if (!selectedRadio) {
                showModal('Please select a weight option');
                return;
            }
            
            const weightId = selectedRadio.id;
            const price = prices[weightId].toFixed(2);
            const weightText = selectedRadio.nextElementSibling.textContent;
    
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            
            // Check if item already exists in cart
            const existingItemIndex = cartItems.findIndex(item => item.id === weightId);
            
            if (existingItemIndex >= 0) {
                // If exists, increase quantity
                cartItems[existingItemIndex].quantity += 1;
            } else {
                // If new, add with quantity 1
                cartItems.push({
                    name: name,
                    price: price,
                    weight: weightText,
                    id: weightId,
                    quantity: 1,
                    timestamp: new Date().getTime()
                });
            }
    
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            updateCartCount();
            showModal(`${name} (${weightText}) added to cart. Price: ₹${price}`);
        }
    
        // Function to update cart count display
        function updateCartCount() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
            const cartCountElements = document.querySelectorAll('.cart-count');
            
            cartCountElements.forEach(element => {
                element.textContent = totalItems;
                // Add animation
                element.classList.add('animate__animated', 'animate__bounceIn');
                setTimeout(() => {
                    element.classList.remove('animate__animated', 'animate__bounceIn');
                }, 1000);
            });
        }
            $(window).scroll(function() {
        if ($('.navbar-collapse').hasClass('show')) {
            // Close the menu by triggering the click event on the hamburger button
            $('.navbar-toggler').click();
        }
    });
    </script>
    </body>
</html>
